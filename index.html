<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <title>HFC Stats - –§—É—Ç–±–æ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</title>
    <meta name="description" content="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ—É—Ç–±–æ–ª—å–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–æ–≤ HFC. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Ç—á–µ–π, —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–∞–Ω–¥, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤." />
    <meta name="author" content="HFC" />

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HFC Stats">
    
    <link rel="apple-touch-icon" href="/HFC/icon.png?v=2">
    <link rel="icon" type="image/png" href="/HFC/icon.png?v=2">

    <meta property="og:title" content="HFC Stats - –§—É—Ç–±–æ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" />
    <meta property="og:description" content="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ—É—Ç–±–æ–ª—å–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–æ–≤ HFC. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Ç—á–µ–π, —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–∞–Ω–¥, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤." />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <script>
      // 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ (–±–µ–ª—ã–π —ç–∫—Ä–∞–Ω)
      window.addEventListener('error', (e) => {
        if (e.message.includes('Loading chunk') || e.message.includes('Script error')) {
          console.log('–ö—ç—à —Å–∫—Ä–∏–ø—Ç–æ–≤ —É—Å—Ç–∞—Ä–µ–ª, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é...');
          location.reload(true);
        }
      }, true);

      // 2. –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Service Worker (–ø—Ä–∏ –¥–µ–ø–ª–æ–µ)
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.addEventListener('controllerchange', () => {
          window.location.reload();
        });
      }

      // 3. –Ø–î–ï–†–ù–ê–Ø –û–ß–ò–°–¢–ö–ê: –ï—Å–ª–∏ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã —Ç–∞–±–ª–∏—Ü—ã –≤—Å—ë –µ—â–µ –ø—É—Å—Ç—ã–µ (–∫–∞–∫ –Ω–∞ —Ç–≤–æ–µ–º —Å–∫—Ä–∏–Ω–µ)
      // –∑–Ω–∞—á–∏—Ç –∑–∞–ª–∏–ø –∫—ç—à –¥–∞–Ω–Ω—ã—Ö Supabase. –ß–∏—Å—Ç–∏–º –≤—Å—ë –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –æ–¥–∏–Ω —Ä–∞–∑.
      setTimeout(() => {
        const hasData = document.body.innerText.includes('‚öΩ') || document.body.innerText.includes('üéÆ');
        if (!hasData && !window.location.hash.includes('data-reset')) {
          console.log('–î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞...');
          if ('caches' in window) {
            caches.keys().then(names => {
              for (let name of names) caches.delete(name);
            });
          }
          window.location.hash = 'data-reset';
          window.location.reload(true);
        }
      }, 4000);
    </script>
  </head>

  <body class="dark">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>