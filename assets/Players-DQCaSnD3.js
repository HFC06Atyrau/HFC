import{c as k,r as u,j as e,B as E}from"./index-ZT2MSVJ0.js";import{f as v,g as B,u as C,H as G,U as H,A as T,h as M,i as S}from"./avatar-CFtkXPdP.js";import{i as A,h as L,u as R}from"./usePlayerStats-wxlRwWTE.js";import{u as q}from"./useTourDreamTeamsBySeason-DaU9YXWX.js";import{C as c,c as i}from"./card-CtieToIG.js";import"./trophy-CEsnfYY3.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=k("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);function O(){const[s,h]=u.useState(null),{data:N=[]}=v(),{data:b=[]}=B(),{data:l}=A(),g=(l==null?void 0:l.stats)||[];l!=null&&l.substitutions;const{data:m=[]}=C(),f=N.find(a=>a.id===s),_=f?b.find(a=>a.id===f.team_id):null,p=a=>{switch(a){case"red":return"text-team-red";case"blue":return"text-team-blue";case"green":return"text-team-green";case"black":return"text-foreground";default:return"text-muted-foreground"}};return u.useMemo(()=>{if(!s)return[];const a=[];return m.forEach(n=>{g.filter(y=>{var x;return y.player_id!==s?!1:(x=y.match)==null?void 0:x.tour_id});const o={seasonId:n.id,seasonName:n.name,games:0,goals:0,assists:0,yellowCards:0,redCards:0,dreamTeamCount:0,mvpCount:0};a.push(o)}),a},[s,m,g]),e.jsxs("div",{className:"min-h-screen bg-background field-pattern",children:[e.jsx(G,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:f?e.jsx(Y,{player:f,team:_,onBack:()=>h(null),getTeamTextClass:p}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2 hero-gradient py-6",children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground tracking-wide",children:[e.jsx(H,{className:"inline w-8 h-8 mr-2 text-primary"}),"–ü—Ä–æ—Ñ–∏–ª–∏ –∏–≥—Ä–æ–∫–æ–≤"]}),e.jsx("p",{className:"text-muted-foreground",children:"–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:N.map(a=>{const n=b.find(o=>o.id===a.team_id);return e.jsx(c,{className:"bg-card border-border cursor-pointer hover:border-primary/50 transition-all duration-300 hover:-translate-y-1",onClick:()=>h(a.id),children:e.jsxs(i,{className:"p-5 flex flex-col items-center text-center gap-3",children:[e.jsxs(T,{className:"h-20 w-20 border-2 border-primary/30",children:[e.jsx(M,{src:a.photo_url,alt:a.name}),e.jsx(S,{className:"text-2xl bg-primary/20 font-display",children:a.name[0]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-display font-bold text-foreground tracking-wide",children:a.name}),n&&e.jsx("p",{className:`text-sm font-medium ${p(n.color)}`,children:n.name})]})]})},a.id)})})]})})]})}function Y({player:s,team:h,onBack:N,getTeamTextClass:b}){const{data:l}=A(),g=(l==null?void 0:l.stats)||[],m=(l==null?void 0:l.substitutions)||[],{data:f=[]}=C(),{data:_=[]}=q(null),{data:p=[]}=L(),{data:a=[]}=v();f.flatMap(r=>r.id);const{data:n=[]}=R(null),o=u.useMemo(()=>{const r=new Set;return m.forEach(t=>{t.original_player_id===s.id&&r.add(t.tour_id)}),r},[m,s.id]),y=u.useMemo(()=>{let r=0;return s.team_id&&p.forEach(t=>{(t.home_team_id===s.team_id||t.away_team_id===s.team_id)&&(o.has(t.tour_id)||r++)}),m.forEach(t=>{if(t.substitute_player_id===s.id){const d=a.find(j=>j.id===t.original_player_id);if(d!=null&&d.team_id){const j=p.filter(w=>w.tour_id===t.tour_id&&(w.home_team_id===d.team_id||w.away_team_id===d.team_id));r+=j.length}}}),r},[s.id,s.team_id,p,o,m,a]),x=u.useMemo(()=>{const r=g.filter(t=>{var j;if(t.player_id!==s.id)return!1;const d=(j=t.match)==null?void 0:j.tour_id;return!(d&&o.has(d))});return{totalGoals:r.reduce((t,d)=>t+(d.goals||0),0),totalAssists:r.reduce((t,d)=>t+(d.assists||0),0),totalYellowCards:r.reduce((t,d)=>t+(d.yellow_cards||0),0),totalRedCards:r.reduce((t,d)=>t+(d.red_cards||0),0)}},[g,s.id,o]),P=u.useMemo(()=>_.filter(r=>r.player_id===s.id&&r.team_type==="dream").length,[_,s.id]),I=u.useMemo(()=>n.filter(r=>r.mvp_player_id===s.id).length,[n,s.id]);return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs(E,{variant:"ghost",onClick:N,className:"gap-2 font-display",children:[e.jsx(z,{className:"w-4 h-4"}),"–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs(T,{className:"h-48 w-48 border-4 border-primary/50 shadow-2xl",children:[e.jsx(M,{src:s.photo_url,alt:s.name}),e.jsx(S,{className:"text-6xl bg-primary/20 font-display",children:s.name[0]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-foreground tracking-wide",children:s.name}),h&&e.jsx("p",{className:`text-xl font-medium ${b(h.color)}`,children:h.name})]})]}),e.jsxs("div",{className:"flex-1 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx(c,{className:"bg-card border-border",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx(U,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:y}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ"})]})}),e.jsx(c,{className:"bg-card border-border",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"‚öΩ"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:x.totalGoals}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ì–æ–ª–æ–≤ –∑–∞–±–∏—Ç–æ"})]})}),e.jsx(c,{className:"bg-card border-border",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"üÖ∞Ô∏è"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:x.totalAssists}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ì–æ–ª–µ–≤—ã—Ö –ø–µ—Ä–µ–¥–∞—á"})]})}),e.jsx(c,{className:"bg-card border-border",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"üü®"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:x.totalYellowCards}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ñ—ë–ª—Ç—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫"})]})}),e.jsx(c,{className:"bg-card border-border",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"üü•"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:x.totalRedCards}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ö—Ä–∞—Å–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫"})]})}),e.jsx(c,{className:"bg-card border-border",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"‚≠ê"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:P}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–í —Å–±–æ—Ä–Ω–æ–π —Ç—É—Ä–∞"})]})}),e.jsx(c,{className:"bg-card border-border",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"üèÜ"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:I}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"MVP —Ç—É—Ä–∞"})]})})]})]})]})}export{O as default};
