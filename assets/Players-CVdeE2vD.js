import{c as M,r as k,j as e,B as R}from"./index-BjaocNAj.js";import{f as U,g as V,u as $,H as F,U as W,A as G,h as I,i as B}from"./avatar-srRO0eA3.js";import{i as E,h as Y,u as H}from"./usePlayerStats-2_F3k769.js";import{u as L,T as J}from"./useTourDreamTeamsBySeason-CHmhoqgj.js";import{C as N,c as b}from"./card-Dj_3TIIw.js";import{T as K}from"./trophy-BKFI8pwL.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=M("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);function ae(){const[o,g]=k.useState(null),{data:m=[]}=U(),{data:T=[]}=V(),{data:i}=E(),v=(i==null?void 0:i.stats)||[],j=(i==null?void 0:i.substitutions)||[];$();const{data:y=[]}=L(null),{data:u=[]}=Y(),{data:C=[]}=H(null),P=t=>{const s=new Set;return j.forEach(r=>{r.original_player_id===t&&s.add(r.tour_id)}),s},S=t=>{const s=P(t);return v.filter(r=>{var a;if(r.player_id!==t)return!1;const l=(a=r.match)==null?void 0:a.tour_id;return!(l&&s.has(l))})},n=t=>{const s=m.find(a=>a.id===t),r=P(t);let l=0;return s!=null&&s.team_id&&u.forEach(a=>{(a.home_team_id===s.team_id||a.away_team_id===s.team_id)&&!r.has(a.tour_id)&&l++}),j.forEach(a=>{if(a.substitute_player_id===t){const p=m.find(_=>_.id===a.original_player_id);if(p!=null&&p.team_id){const _=u.filter(w=>w.tour_id===a.tour_id&&(w.home_team_id===p.team_id||w.away_team_id===p.team_id));l+=_.length}}}),l},A=k.useMemo(()=>m.map(s=>{const r=S(s.id),l=r.reduce((d,f)=>d+(f.goals||0),0),a=r.reduce((d,f)=>d+(f.assists||0),0),p=r.reduce((d,f)=>d+(f.yellow_cards||0),0),_=r.reduce((d,f)=>d+(f.red_cards||0),0),w=n(s.id),q=y.filter(d=>d.player_id===s.id&&d.team_type==="dream").length,z=C.filter(d=>d.mvp_player_id===s.id).length;return{playerId:s.id,name:s.name,photo_url:s.photo_url,team_id:s.team_id,goals:l,assists:a,points:l+a,games:w,yellowCards:p,redCards:_,dreamTeamCount:q,mvpCount:z}}).sort((s,r)=>r.points!==s.points?r.points-s.points:r.goals-s.goals),[m,v,j,u,y,C]),h=m.find(t=>t.id===o),x=h?T.find(t=>t.id===h.team_id):null,c=t=>{switch(t){case"red":return"text-team-red";case"blue":return"text-team-blue";case"green":return"text-team-green";case"black":return"text-foreground";default:return"text-muted-foreground"}};return e.jsxs("div",{className:"min-h-screen bg-background field-pattern",children:[e.jsx(F,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:h?e.jsx(X,{player:h,team:x,onBack:()=>g(null),getTeamTextClass:c,getPlayerStats:S,getPlayerGames:n}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2 hero-gradient py-6",children:[e.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground tracking-wide",children:[e.jsx(W,{className:"inline w-8 h-8 mr-2 text-primary"}),"–†–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤"]}),e.jsx("p",{className:"text-muted-foreground",children:"–°–ø–∏—Å–æ–∫ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ —Å–∏—Å—Ç–µ–º–µ –ì–æ–ª + –ü–∞—Å"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary/10 border-b-2 border-primary",children:[e.jsx("th",{className:"px-4 py-3 text-left font-bold text-foreground",children:"–ú–µ—Å—Ç–æ"}),e.jsx("th",{className:"px-4 py-3 text-left font-bold text-foreground",children:"–ò–≥—Ä–æ–∫"}),e.jsx("th",{className:"px-4 py-3 text-left font-bold text-foreground",children:"–ö–æ–º–∞–Ω–¥–∞"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-foreground",children:"–ò–≥—Ä—ã"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-foreground",children:"–ì–æ–ª—ã"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-foreground",children:"–ü–∞—Å—ã"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-primary",children:"–ì+–ü"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-foreground",children:"–ñ–ö"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-foreground",children:"–ö–ö"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-foreground",children:"MVP"}),e.jsx("th",{className:"px-4 py-3 text-center font-bold text-foreground",children:"‚≠ê"})]})}),e.jsx("tbody",{children:A.map((t,s)=>{const r=T.find(l=>l.id===t.team_id);return e.jsxs("tr",{className:"border-b border-border hover:bg-primary/5 transition-colors cursor-pointer",onClick:()=>g(t.playerId),children:[e.jsxs("td",{className:"px-4 py-3 font-bold text-primary",children:["#",s+1]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(G,{className:"h-10 w-10 border border-primary/30",children:[e.jsx(I,{src:t.photo_url,alt:t.name}),e.jsx(B,{className:"bg-primary/20 font-display text-sm",children:t.name[0]})]}),e.jsx("span",{className:"font-medium text-foreground",children:t.name})]})}),e.jsx("td",{className:"px-4 py-3",children:r&&e.jsx("span",{className:`font-medium ${c(r.color)}`,children:r.name})}),e.jsx("td",{className:"px-4 py-3 text-center text-foreground",children:t.games}),e.jsx("td",{className:"px-4 py-3 text-center text-foreground",children:t.goals}),e.jsx("td",{className:"px-4 py-3 text-center text-foreground",children:t.assists}),e.jsx("td",{className:"px-4 py-3 text-center font-bold text-primary text-lg",children:t.points}),e.jsx("td",{className:"px-4 py-3 text-center text-foreground",children:t.yellowCards}),e.jsx("td",{className:"px-4 py-3 text-center text-foreground",children:t.redCards}),e.jsx("td",{className:"px-4 py-3 text-center text-yellow-500 font-bold",children:t.mvpCount}),e.jsx("td",{className:"px-4 py-3 text-center text-foreground",children:t.dreamTeamCount})]},t.playerId)})})]})})]})})]})}function X({player:o,team:g,onBack:m,getTeamTextClass:T,getPlayerStats:i,getPlayerGames:v}){E();const{data:j=[]}=L(null),{data:y=[]}=H(null),u=k.useMemo(()=>{const n=i(o.id),A=n.reduce((x,c)=>x+(c.goals||0),0),h=n.reduce((x,c)=>x+(c.assists||0),0);return{totalGoals:A,totalAssists:h,totalPoints:A+h,totalYellowCards:n.reduce((x,c)=>x+(c.yellow_cards||0),0),totalRedCards:n.reduce((x,c)=>x+(c.red_cards||0),0)}},[o.id,i]),C=v(o.id),P=k.useMemo(()=>j.filter(n=>n.player_id===o.id&&n.team_type==="dream").length,[j,o.id]),S=k.useMemo(()=>y.filter(n=>n.mvp_player_id===o.id).length,[y,o.id]);return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs(R,{variant:"ghost",onClick:m,className:"gap-2 font-display",children:[e.jsx(O,{className:"w-4 h-4"})," –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs(G,{className:"h-48 w-48 border-4 border-primary/50 shadow-2xl",children:[e.jsx(I,{src:o.photo_url,alt:o.name}),e.jsx(B,{className:"text-6xl bg-primary/20 font-display",children:o.name[0]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-4xl font-display font-bold text-foreground tracking-wide",children:o.name}),g&&e.jsx("p",{className:`text-xl font-medium ${T(g.color)}`,children:g.name})]})]}),e.jsxs("div",{className:"flex-1 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx(N,{className:"bg-card border-border border-primary/20 shadow-lg",children:e.jsxs(b,{className:"p-4 text-center",children:[e.jsx(J,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:u.totalPoints}),e.jsx("p",{className:"text-sm font-bold uppercase tracking-tighter",children:"–ì–æ–ª + –ü–∞—Å"})]})}),e.jsx(N,{className:"bg-card border-border",children:e.jsxs(b,{className:"p-4 text-center",children:[e.jsx(Q,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:C}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ò–≥—Ä"})]})}),e.jsx(N,{className:"bg-card border-border",children:e.jsxs(b,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl block mb-1",children:"‚öΩ"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:u.totalGoals}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ì–æ–ª—ã"})]})}),e.jsx(N,{className:"bg-card border-border",children:e.jsxs(b,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl block mb-1",children:"üÖ∞Ô∏è"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:u.totalAssists}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–ü–∞—Å—ã"})]})}),e.jsx(N,{className:"bg-card border-border",children:e.jsxs(b,{className:"p-4 text-center",children:[e.jsx(K,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:S}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"MVP"})]})}),e.jsx(N,{className:"bg-card border-border",children:e.jsxs(b,{className:"p-4 text-center",children:[e.jsx("span",{className:"text-3xl block mb-1",children:"‚≠ê"}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:P}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"–°–±–æ—Ä–Ω–∞—è —Ç—É—Ä–∞"})]})})]})]})]})}export{ae as default};
