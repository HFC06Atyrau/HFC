import{r as i,j as e}from"./index-BYgd7-nB.js";import{u as f,H as j}from"./avatar-CFRCvbPy.js";import{j as m,k as S,S as h,a as y,b as g,c as b,d as I,D as p}from"./DreamTeamSelector-CSIKY2kw.js";import"./trophy-BCLMD_Dx.js";import"./index-BHj4927a.js";function w(){const{data:n=[]}=f(),[a,l]=i.useState(null);i.useEffect(()=>{n.length>0&&!a&&l(n[0].id)},[n,a]);const{data:d=[]}=m(a,"dream"),{data:c=[]}=m(a,"anti"),r=S(),o=n.find(s=>s.id===a),x=i.useMemo(()=>{const s=new Array(5).fill("");return d.forEach(t=>{t.position>=1&&t.position<=5&&(s[t.position-1]=t.player_id)}),s},[d]),u=i.useMemo(()=>{const s=new Array(5).fill("");return c.forEach(t=>{t.position>=1&&t.position<=5&&(s[t.position-1]=t.player_id)}),s},[c]);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(j,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground font-mono",children:"Сборные сезона"}),e.jsxs(h,{value:a??"",onValueChange:l,children:[e.jsx(y,{className:"w-[200px] bg-secondary border-border",children:e.jsx(g,{placeholder:"Выберите сезон"})}),e.jsx(b,{children:n.map(s=>e.jsx(I,{value:s.id,children:s.name},s.id))})]})]}),a&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(p,{title:`Сборная сезона${o?` (${o.name})`:""}`,type:"dream",selectedPlayerIds:x,onSave:s=>r.mutate({seasonId:a,teamType:"dream",playerIds:s.filter(Boolean)}),isPending:r.isPending}),e.jsx(p,{title:`Антисборная сезона${o?` (${o.name})`:""}`,type:"anti",selectedPlayerIds:u,onSave:s=>r.mutate({seasonId:a,teamType:"anti",playerIds:s.filter(Boolean)}),isPending:r.isPending})]})]}),e.jsx("footer",{className:"border-t border-border py-6 mt-12",children:e.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:e.jsxs("p",{children:["HFC Football Stats © ",new Date().getFullYear()]})})})]})}export{w as default};
