import{e as H,r as d,q as K,j as e,i as v,h as y,P as q,t as T,u as z,w as O,B as C,b as p}from"./index-BdAXvNPF.js";import{c as R,R as U,a as J,L as b,I as x,o as Q,s as I}from"./types-CF352nbN.js";import{C as W,a as X,b as Y,d as Z,c as ee}from"./card-CyZjmtNt.js";import{u as ae,a as se}from"./index-B4dSCxLh.js";import{T as re}from"./trophy-DlSqbHMA.js";var h="Tabs",[te,fe]=H(h,[R]),S=R(),[ne,w]=te(h),A=d.forwardRef((a,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:l,orientation:o="horizontal",dir:m,activationMode:f="automatic",...g}=a,s=ae(m),[c,u]=K({prop:n,onChange:i,defaultProp:l??"",caller:h});return e.jsx(ne,{scope:r,baseId:se(),value:c,onValueChange:u,orientation:o,dir:s,activationMode:f,children:e.jsx(v.div,{dir:s,"data-orientation":o,...g,ref:t})})});A.displayName=h;var E="TabsList",F=d.forwardRef((a,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=a,l=w(E,r),o=S(r);return e.jsx(U,{asChild:!0,...o,orientation:l.orientation,dir:l.dir,loop:n,children:e.jsx(v.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});F.displayName=E;var P="TabsTrigger",_=d.forwardRef((a,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...l}=a,o=w(P,r),m=S(r),f=L(o.baseId,n),g=D(o.baseId,n),s=n===o.value;return e.jsx(J,{asChild:!0,...m,focusable:!i,active:s,children:e.jsx(v.button,{type:"button",role:"tab","aria-selected":s,"aria-controls":g,"data-state":s?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...l,ref:t,onMouseDown:y(a.onMouseDown,c=>{!i&&c.button===0&&c.ctrlKey===!1?o.onValueChange(n):c.preventDefault()}),onKeyDown:y(a.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&o.onValueChange(n)}),onFocus:y(a.onFocus,()=>{const c=o.activationMode!=="manual";!s&&!i&&c&&o.onValueChange(n)})})})});_.displayName=P;var M="TabsContent",k=d.forwardRef((a,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:l,...o}=a,m=w(M,r),f=L(m.baseId,n),g=D(m.baseId,n),s=n===m.value,c=d.useRef(s);return d.useEffect(()=>{const u=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(u)},[]),e.jsx(q,{present:i||s,children:({present:u})=>e.jsx(v.div,{"data-state":s?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":f,hidden:!u,id:g,tabIndex:0,...o,ref:t,style:{...a.style,animationDuration:c.current?"0s":void 0},children:u&&l})})});k.displayName=M;function L(a,t){return`${a}-trigger-${t}`}function D(a,t){return`${a}-content-${t}`}var ie=A,V=F,$=_,G=k;const oe=ie,B=d.forwardRef(({className:a,...t},r)=>e.jsx(V,{ref:r,className:T("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t}));B.displayName=V.displayName;const N=d.forwardRef(({className:a,...t},r)=>e.jsx($,{ref:r,className:T("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a),...t}));N.displayName=$.displayName;const j=d.forwardRef(({className:a,...t},r)=>e.jsx(G,{ref:r,className:T("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t}));j.displayName=G.displayName;const ce=Q({email:I().email("Некорректный email"),password:I().min(6,"Минимум 6 символов")});function pe(){const[a,t]=d.useState(""),[r,n]=d.useState(""),[i,l]=d.useState(!1),{signIn:o,signUp:m}=z(),f=O(),g=async s=>{try{const c=ce.safeParse({email:a,password:r});if(!c.success){p.error(c.error.errors[0].message);return}l(!0);const{error:u}=s==="signin"?await o(a,r):await m(a,r);if(u){u.message.includes("already registered")?p.error("Пользователь уже зарегистрирован"):u.message.includes("Invalid login")?p.error("Неверный email или пароль"):p.error(u.message);return}s==="signup"?p.success("Аккаунт создан! Войдите в систему."):(p.success("Добро пожаловать!"),f("/"))}catch{p.error("Произошла ошибка")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(W,{className:"w-full max-w-md bg-card border-border",children:[e.jsxs(X,{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(re,{className:"w-6 h-6 text-primary"})}),e.jsxs(Y,{className:"text-2xl font-bold text-foreground",children:["HFC ",e.jsx("span",{className:"text-primary glow-text",children:"Stats"})]}),e.jsx(Z,{className:"text-muted-foreground",children:"Управление футбольной статистикой"})]}),e.jsx(ee,{children:e.jsxs(oe,{defaultValue:"signin",className:"w-full",children:[e.jsxs(B,{className:"grid w-full grid-cols-2 bg-secondary",children:[e.jsx(N,{value:"signin",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Вход"}),e.jsx(N,{value:"signup",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Регистрация"})]}),e.jsxs(j,{value:"signin",className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"signin-email",className:"text-foreground",children:"Email"}),e.jsx(x,{id:"signin-email",type:"email",placeholder:"admin@example.com",value:a,onChange:s=>t(s.target.value),className:"bg-secondary border-border text-foreground"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"signin-password",className:"text-foreground",children:"Пароль"}),e.jsx(x,{id:"signin-password",type:"password",placeholder:"••••••",value:r,onChange:s=>n(s.target.value),className:"bg-secondary border-border text-foreground"})]}),e.jsx(C,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>g("signin"),disabled:i,children:i?"Загрузка...":"Войти"})]}),e.jsxs(j,{value:"signup",className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"signup-email",className:"text-foreground",children:"Email"}),e.jsx(x,{id:"signup-email",type:"email",placeholder:"user@example.com",value:a,onChange:s=>t(s.target.value),className:"bg-secondary border-border text-foreground"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"signup-password",className:"text-foreground",children:"Пароль"}),e.jsx(x,{id:"signup-password",type:"password",placeholder:"Минимум 6 символов",value:r,onChange:s=>n(s.target.value),className:"bg-secondary border-border text-foreground"})]}),e.jsx(C,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>g("signup"),disabled:i,children:i?"Загрузка...":"Зарегистрироваться"})]})]})})]})})}export{pe as default};
