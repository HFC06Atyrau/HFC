import{k as c,e as u}from"./avatar-9M82r2vh.js";import{s as a,a as n,b as s}from"./index-BvkxZALt.js";function l(r){return c({queryKey:["tour-teams",r],queryFn:async()=>{if(!r)return[];const{data:e,error:t}=await a.from("tour_teams").select(`
          *,
          team:teams(id, name)
        `).eq("tour_id",r);if(t)throw t;return e},enabled:!!r})}function d(){const r=n();return u({mutationFn:async({tourId:e,teamId:t,color:i="black"})=>{const{data:m,error:o}=await a.from("tour_teams").insert({tour_id:e,team_id:t,color:i}).select().single();if(o)throw o;return m},onSuccess:()=>{r.invalidateQueries({queryKey:["tour-teams"]}),s.success("Команда добавлена в тур")},onError:e=>{s.error(e.message)}})}function q(){const r=n();return u({mutationFn:async e=>{const{error:t}=await a.from("tour_teams").delete().eq("id",e);if(t)throw t},onSuccess:()=>{r.invalidateQueries({queryKey:["tour-teams"]}),s.success("Команда удалена из тура")},onError:e=>{s.error(e.message)}})}export{d as a,q as b,l as u};
